listofobjects = ["baseball"]
class Leaf:

  def __init__(self, question, left=None, right=None):

    self.question = question

    self.left = left

    self.right = right

def yes(query):

  while True:

    ans = input(query)

    ans = str.lower(ans[0:1])

    if ans == 'y':

      return True

    else:

      return False

knowledge  = Leaf("baseball")

def mainfunc():

  while True:

    print

    if not yes("Are you seeking an object? "):

      print("Then it is not in this database")

      break

    p = knowledge

    while p.left != None:

      if yes(p.question+"?"):

        p=p.right

      else:

        p=p.left

    if yes("Is it a " + p.question + "? "):

      continue

    thing = input("What is its name? ")

    question = input ("What question would distinguish a %s from a %s? "% (thing, p.question))

    p.left = Leaf(p.question)

    p.right = Leaf(thing)

    p.question = question

    if not yes("If this thing was %s the answer would be? " % thing):

      (p.right, p.left) = (p.left, p.right)

if __name__ == "__main__":

  mainfunc()
